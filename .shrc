# vim: filetype=sh

##
# Dotfiles.
##

dotfiles=(.exports .aliases .functions .shrc.local)
for dotfile in "${dotfiles[@]}" ; do
  if [ -f "$dotfile" ] ; then
    source "$dotfile"
  fi
done


##
# GPG Agent.
##

if [ -f ~/.gnupg/.gpg-agent-info ] ; then
  if [ -n "$(pgrep gpg-agent)" ]; then
    source ~/.gnupg/.gpg-agent-info
    export GPG_AGENT_INFO
  else
    eval $(gpg-agent --daemon \
            --options ~/.gnupg/gpg-agent.conf \
            --write-env-file ~/.gnupg/.gpg-agent-info)
  fi
fi


##
# 3rd Party.
##

# z - https://github.com/rupa/z
if [ -f '/usr/local/etc/profile.d/z.sh' ] ; then
  source '/usr/local/etc/profile.d/z.sh'
fi

# fzf - https://github.com/junegunn/fzf
# --inline-info: Display the result number besides the query.
export FZF_DEFAULT_OPTS='--inline-info'
if [ $(command -v ag) ] ; then
  # Use ag as the default source for fzf.
  export FZF_DEFAULT_COMMAND='ag -g ""'
fi

# thefuck - https://github.com/nvbn/thefuck
if hash thefuck 2>/dev/null ; then
  eval "$(thefuck --alias)"
fi


##
# Other.
##

cowjoke
