# vim: filetype=sh

##
# Base - required when `login` isn't used.
##

export PATH="/opt/X11/bin:$PATH"
export PATH="/usr/local/bin:$PATH"
export PATH="/usr/local/sbin:$PATH"
export PATH="/usr/local/opt/coreutils/libexec/gnubin:$PATH"
export PATH="/usr/local/opt/gnu-sed/libexec/gnubin:$PATH"
export PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH"
export PATH="/usr/local/opt/coreutils/libexec/gnubin:$PATH"

##
#  Global variables - $PATH, $MANPATH, $EDITOR, $VISUAL, etc.
##

export BACKUP_DIR="$HOME/Google Drive/Backup"

# Preferred editor for local and remote sessions.
export EDITOR='vim'
export VISUAL='vim'
if [ $(command -v nvim) ] ; then
  export EDITOR='nvim'
  export VISUAL='nvim'
fi

# Don't clear the screen after quitting a manual page.
export MANPAGER='less -X'

# Homebrew no-GA.
export HOMEBREW_NO_ANALYTICS=1

# Homebrew paths.
if hash brew 2>/dev/null ; then
  export MANPATH="/usr/local/man:$MANPATH"
  export MANPATH="/usr/local/share/man:$MANPATH"

  # Homebrew Cask path preferences.
  # export HOMEBREW_CASK_OPTS="--appdir=/Applications --prefpanedir=/Library/PreferencePanes --qlplugindir=/Library/QuickLook --colorpickerdir=/Library/ColorPickers --fontdir=/Library/Fonts --input_methoddir='/Library/Input Methods' --screen_saverdir='/Library/Screen Savers' --servicedir=/Library/Services"

  # Homebrew GNU coreutils, sed & tar.
  export PATH="/usr/local/opt/coreutils/libexec/gnubin:$PATH"
  export PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH"
  export PATH="/usr/local/opt/gnu-sed/libexec/gnubin:$PATH"
  export MANPATH="/usr/local/opt/coreutils/libexec/gnuman:$MANPATH"
  export MANPATH="/usr/local/opt/gnu-sed/libexec/gnuman:$MANPATH"

  # Node.js
  export NODE_PATH="/usr/local/lib/node_modules"
  export NODE_PATH="/usr/local/share/npm/lib/node_modules:$NODE_PATH"
  export PATH="/usr/local/share/npm/bin:$PATH"
fi

# Android emulator / SDK.
export ANDROID_HOME='/usr/local/opt/android-sdk'

# User ~/bin directories.
export PATH="$HOME/bin:$PATH"

# Composer.
export PATH="$HOME/.composer/vendor/bin:$PATH"

# Ruby.
# export GEM_PATH="$(gem env gempath):$GEM_PATH"
# export GEM_PATH="/Library/Ruby/Site/2.0.0/rubygems:/Library/Ruby/Gems/2.0.0/gems:$GEM_PATH"

# Golang.
if hash go 2>/dev/null ; then
  export GOROOT='/usr/local/opt/go/libexec'

  export GOPATH="$HOME/go"
  export PATH="$GOPATH/bin:$PATH"
  if [ ! -d "$GOPATH" ] ; then
    echo "=> Creating '$GOPATH': $GOPATH"
    mkdir "$GOPATH"
  fi
fi

# fzf - https://github.com/junegunn/fzf
# --inline-info: Display the result number besides the query.
export FZF_DEFAULT_OPTS="--inline-info --no-height --preview '(highlight -O ansi -l {} 2> /dev/null || cat {} || tree -C {}) 2> /dev/null | head -200'"
# Use `ag` as the default source for `fzf`.
if hash ag 2>/dev/null ; then
  export FZF_DEFAULT_COMMAND='ag -g ""'
fi
export FZF_ALT_C_OPTS="--select-1 --exit-0 --preview '(highlight -O ansi -l {} 2> /dev/null || cat {} || tree -C {}) 2> /dev/null | head -200'"

# Surpress Wine debugging info.
export WINEDEBUG=
export WINEPREFIX="$HOME/.wine"
